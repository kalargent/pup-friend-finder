<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Doggo Fren Finder</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
  </head>

  <body>
    <h1 class="surveyHeader">Doggo Survey Questions</h1>
    <hr />

    <div class="container">
      <h2>Tell us about ur doggo!</h2>
      <form class="theForm" id="form1">
        <div class="form-group info" id = "info">
          <label for="formGroupExampleInput">Ur Naim</label>
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="Add ur doggos name"
          />
        </div>
        <div class="form-group info">
          <label for="formGroupExampleInput2">Ur Photo </label>
          <input
            type="text"
            class="form-control"
            id="pic"
            placeholder="Add a link 2 a photo of ur doggo"
          />
        </div>
      </form>
    </div>

    <hr />

    <div class="container">
      <form class="theForm" id="form2">
        <div class="form-group info" id ="questions">
          <label for="question1"
            >U're always thinkin of when 2 taik the next nap.</label
          >
          <select class="form-control" id="answer1">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question2">The mailman iz prety amazin.</label>
          <select class="form-control" id="answer2">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question3">U wag a lot when the hoomans come home.</label>
          <select class="form-control" id="answer3">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question4">U're the boss of the hoomans.</label>
          <select class="form-control" id="answer4">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question5">Doggos rule and katters drool.</label>
          <select class="form-control" id="answer5">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question6"
            >The best way 2 greet a new fren iz by snifin.</label
          >
          <select class="form-control" id="answer6">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question7"
            >U know how 2 get treats from the hoomans.</label
          >
          <select class="form-control" id="answer7">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question8">U liek hekkin long walks in the park.</label>
          <select class="form-control" id="answer8">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question9">Chimkin iz beter than cheeze.</label>
          <select class="form-control" id="answer9">
              <option> </option>
              <option value = "1">1 (hekk no!)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>

        <div class="form-group info">
          <label for="question10">Chimkin iz beter than cheeze.</label>
          <select class="form-control" id="answer10">
            <option> </option>
            <option value = "1">1 (hekk no!)</option>
            <option value = "2">2</option>
            <option value = "3">3</option>
            <option value = "4">4</option>
            <option value = "5">5 (hekk yes!) </option>
          </select>
        </div>
      </form>
      <button type="button" class="btn btn-primary" id="submit">
        Find me a new fren!
      </button>
    </div>

    <!-- <div class="modal" tabindex="-1" role="dialog" id ="results">
      <div class="modal-dialog" role="document"></div></div>
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Ur new fren!</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <p id = "nameOfDog"></p>
            <p id = "photoOfDog"></p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Tanks! I luv my new fren!</button>
          </div>
        </div>
      </div>
    </div> -->

   

	<div id="results" class="modal fade" role="dialog">
	  <div class="modal-dialog">

	    
	    <div class="modal-content">
	      <div class="modal-header">
          <h2 class="modal-title"><strong>Best Match</strong></h2>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
	      </div>
	      <div class="modal-body">
	        <h2 id="nameOfDog"></h2>
	        <img id="photoOfDog" src="" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" id = "close">Close</button>
	      </div>
	    </div>

	  </div>
	</div>


    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>

    <script type="text/javascript">
      // var match = JSON.stringify(data); 

      $("#submit").on("click", function() {
        // alert("hi");
        var dogObject = {
          // name: "Tank",
          // photo:
          //   "https://images.squarespace-cdn.com/content/v1/55a2bffae4b037baec79f96e/1522585429159-Y9PILDV0QNVLP94B5ZMW/ke17ZwdGBToddI8pDm48kGDpvalPb1SqHoCn1hwN0Y57gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QHyNOqBUUEtDDsRWrJLTmQPoRzxSr1hzN-vPBHt7YyLLXgctAyUJRqJUUGWVDK_ZzIgvsybGcZEPqUYiXY8im/Norbert+colorful+tie.jpg",
          // scores: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
          name: $("#name").val(),
          photo: $("#pic").val(),
          scores: [
            $("#answer1").val(),
            $("#answer2").val(),
            $("#answer3").val(),
            $("#answer4").val(),
            $("#answer5").val(),
            $("#answer6").val(),
            $("#answer7").val(),
            $("#answer8").val(),
            $("#answer9").val(),
            $("#answer10").val()
          ]
        };

        $.ajax({
          type: "POST",
          url: "/api/friends",
          data: dogObject, 
          datatype:"JSON", 
          success: function(res) {  
            $("#results").modal("show");
            $("#form1")[0].reset();  
            $("#form2")[0].reset();
          }
        })
        .then(function(data, status) {

          // alert(match + " " + status);  
          console.log ("-------data--------"); 
          console.log (data);
          console.log (data.name);
          console.log (data.photo);  
          console.log ("-------data--------"); 
          $("#nameOfDog").text(data.name); 
          $("#photoOfDog").attr("src", data.photo); 
          // $("#name").text(name); 
          // $("#pic").attr("src", pic); 
          // alert("Fetchin u a heckin new fren!")
          // $("#results").modal("show");
        });
        // $("#results").modal("show");
      });

      
      
    </script>
  </body>
</html>
